<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Android basics | sys</title>
<link rel="apple-touch-icon" sizes="57x57" href="/favicon_io/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/favicon_io/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/favicon_io/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/favicon_io/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/favicon_io/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/favicon_io/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/favicon_io/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/favicon_io/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/favicon_io/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon_io/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
<link rel="manifest" href="/favicon_io/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/favicon_io/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


      <link rel="stylesheet" href="/css/main.min.49d5e62e0d328ac7eddb5e61b7fee7b34069a5ab3074feaa8e3aa1be396bf3a6.css" integrity="sha256-SdXmLg0yisft215ht/7ns0BppaswdP6qjjqhvjlr86Y=" crossorigin="anonymous">
      <link rel="stylesheet" href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU=" crossorigin="anonymous">


        <script src="/js/main.310c2985a3508af8983deba04431a84709f44d808518e0a5fe94bc42bfffd23b.js" integrity="sha256-MQwphaNQiviYPeugRDGoRwn0TYCFGOCl/pS8Qr//0js=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>


</head>
<body>
  <header>
    <header>
  <nav class="path-nav">
    <ol>
      
  
    
  
    
  
  <li>
    /
    <a href="/">sys</a>
    /
  </li>

  
  <li>
    
    <a href="/posts/">posts</a>
    /
  </li>

  
  <li class="current">
    
    <a href="/posts/android-basics/">Android basics</a>
    
  </li>

    </ol>
  </nav>
</header>



  </header>
  <main>
    
  <h1>Android basics</h1>
  


  
  
  
  
    <nav class="toc">
      <strong>Table of contents</strong>
      <div class="toc-content">
        <nav id="TableOfContents">
  <ol>
    <li><a href="#tools">tools</a></li>
    <li><a href="#code">code</a></li>
    <li><a href="#running-your-app">running your app</a></li>
    <li><a href="#adb">adb</a></li>
    <li><a href="#jadx">jadx</a></li>
    <li><a href="#apks">APK&rsquo;s</a>
      <ol>
        <li><a href="#apktool">apktool</a></li>
      </ol>
    </li>
    <li><a href="#reverse-engineering">reverse engineering</a></li>
  </ol>
</nav>
      </div>
    </nav>
  

  <p>Some of the basics of android hacking and foundational skills needed to succeed.</p>
<h2 id="tools">tools</h2>
<ul>
<li>androidstudio</li>
<li>jadx</li>
<li>phone/emulater(androidstudio)</li>
<li>adb</li>
<li>apktool</li>
</ul>
<h2 id="code">code</h2>
<p>If you want to get good at hacking/reversing android applications, you will need to know the basics of how it is made, this is a really fast introduction to the most important parts of it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="font-weight:bold">package</span> <span style="color:#666;font-weight:bold;font-style:italic">com.example.poc</span>;  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.content.Intent</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.net.Uri</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.os.Bundle</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.util.Log</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.view.View</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.widget.Button</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">android.widget.TextView</span>;  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">androidx.activity.EdgeToEdge</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">androidx.appcompat.app.AppCompatActivity</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">androidx.core.graphics.Insets</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">androidx.core.view.ViewCompat</span>;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">import</span> <span style="color:#666;font-weight:bold;font-style:italic">androidx.core.view.WindowInsetsCompat</span>;  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="font-weight:bold;font-style:italic">public</span> <span style="font-weight:bold;font-style:italic">class</span> <span style="color:#666;font-weight:bold;font-style:italic">MainActivity</span> <span style="font-weight:bold;font-style:italic">extends</span> AppCompatActivity {  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    @Override  
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold;font-style:italic">protected</span> <span style="font-weight:bold">void</span> <span style="color:#666;font-weight:bold;font-style:italic">onCreate</span>(Bundle savedInstanceState) {  
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold;font-style:italic">super</span>.onCreate(savedInstanceState);  
</span></span><span style="display:flex;"><span>        EdgeToEdge.enable(<span style="font-weight:bold">this</span>);  
</span></span><span style="display:flex;"><span>        setContentView(R.layout.activity_main);  
</span></span><span style="display:flex;"><span>        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {  
</span></span><span style="display:flex;"><span>            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());  
</span></span><span style="display:flex;"><span>            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);  
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">return</span> insets;  
</span></span><span style="display:flex;"><span>        });  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>        TextView appText = findViewById(R.id.apptext);  
</span></span><span style="display:flex;"><span>        appText.setText(<span style="color:#666;font-style:italic">&#34;poc&#34;</span>);  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>        Button appButton = findViewById(R.id.appbutton);  
</span></span><span style="display:flex;"><span>        appButton.setOnClickListener(<span style="font-weight:bold">new</span> View.OnClickListener() {  
</span></span><span style="display:flex;"><span>            @Override  
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold;font-style:italic">public</span> <span style="font-weight:bold">void</span> <span style="color:#666;font-weight:bold;font-style:italic">onClick</span>(View view) {  
</span></span><span style="display:flex;"><span>                Log.i(<span style="color:#666;font-style:italic">&#34;Attack&#34;</span>, <span style="color:#666;font-style:italic">&#34;attack ran&#34;</span>);  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>                Intent intent = <span style="font-weight:bold">new</span> Intent(Intent.ACTION_VIEW, Uri.parse(<span style="color:#666;font-style:italic">&#34;https://sysgerm.xyz&#34;</span>));  
</span></span><span style="display:flex;"><span>                startActivity(intent);  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        });  
</span></span><span style="display:flex;"><span>    }  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This is the &ldquo;MainActivity&rdquo;, normally this file will get ran on startup, along with some other functions.</p>
<p>Here are the basics you need to know about the code to get into android hacking:</p>
<ul>
<li><code>TextView appText = findViewById(R.id.apptext);</code> -&gt; grab the element (from the xml) with their id</li>
<li><code>appButton.setOnClickListener(new View.OnClickListener()</code> -&gt; add a onclick listener to a button</li>
<li><code>Log.i(&quot;Attack&quot;, &quot;attack ran&quot;);</code> -&gt; log messages to logcat (Log.x, x can be any of the severity levels)</li>
<li><code>Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://sysgerm.com&quot;));</code> -&gt; create an intent</li>
</ul>
<p>Severity levels:</p>
<ul>
<li>V -&gt; Verbose</li>
<li>D -&gt; Debug</li>
<li>I -&gt; Info</li>
<li>W -&gt; Warning</li>
<li>E -&gt; Error</li>
<li>F -&gt; Fatal</li>
<li>S -&gt; Silent</li>
</ul>
<p>Intents are one of the most important parts of android hacking because we can interact with other apps, we can get an intent using the <code>getIntent()</code> function.</p>
<p>You can find out more about the intent looking at the <code>AndroidManifest.xml</code> file:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>// AndroidManifest.xml
</span></span><span style="display:flex;"><span>&lt;intent-filter&gt;
</span></span><span style="display:flex;"><span>    &lt;action android:name=<span style="color:#666;font-style:italic">&#34;android.intent.action.SEND&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;data android:mimeType=<span style="color:#666;font-style:italic">&#34;text/plain&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;category android:name=<span style="color:#666;font-style:italic">&#34;android.intent.category.DEFAULT&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;/intent-filter&gt;
</span></span></code></pre></div><p>You can also customize the elements on the screen by:</p>
<ol>
<li>manually editing your xml file</li>
<li>using the gui editor in androidstudio</li>
</ol>
<p><em>WTF is <strong>JNI</strong> (Java Native Language)</em></p>
<p><strong>JNI</strong> is the interface <strong>used to call in native code, commonly used to embed C or C++ code or libraries into an application</strong></p>
<h2 id="running-your-app">running your app</h2>
<p>You can run your a various of ways, these are the couple of ways I do things:</p>
<ol>
<li>use androidstudio emulator</li>
<li>connect to real device (with adb debugging on) on androidstudio</li>
<li>using raw adb</li>
</ol>
<h2 id="adb">adb</h2>
<p>ADB is a very handy tool when creating/hacking android apps, you can interact with the connected device via your computer, some of the most important command include but are not limited to:</p>
<ul>
<li><code>adb shell</code> -&gt; spawn a shell on the device as the shell user (limited privileges)</li>
<li><code>adb push FILE OUTPUT</code> -&gt; puts a file on the device, must include an output path</li>
<li><code>adb pull FILE [OUTPU]</code> -&gt; pulls a file off of the phone onto your pc, you dont need  an output path</li>
<li><code>adb install LOCALAPK</code> -&gt; installs a package on the device</li>
<li><code>adb uninstall REMOTEAPK</code> -&gt; uninstalls a package on the device</li>
<li><code>adb shell pm list packages [-3]</code> -&gt; lists all packages, pm stands for package manager, <code>-3</code> is used when you only want to see the third party packages</li>
<li><code>adb shell pm clear PACKAGE</code> -&gt; clears the data collected from a package</li>
<li><code>adb shell dumpsys [package] [PACKAGE]</code> -&gt; dumps information such as activities and permissions (for a package)</li>
<li><code>adb shell am start PACKAGE/ACTIVITY</code> -&gt; starts a specific activity in a package</li>
<li><code>adb logcat [-v VERSION] &quot;FILTER&quot;</code> -&gt; spits out logging information</li>
<li><code>adb shell pm path PACKAGE</code> -&gt; get the path of the package</li>
</ul>
<h2 id="jadx">jadx</h2>
<p>Jadx is a dex to java decompiler, it is used for the revese engineering of APK&rsquo;s.</p>
<p>It is very straight forward to use, there are a couple of things I always look out for:</p>
<ul>
<li><code>AndroidManifest.xml</code> file -&gt; has alot of useful information like the activities and intent information</li>
<li>&ldquo;Source code&rdquo; -&gt; for viewing a basic version of the source code used (look at the activities)</li>
</ul>
<h2 id="apks">APK&rsquo;s</h2>
<p>Now that we have basic tools and a basic understanding of android and java itself, we can start reverse engineering android apps.</p>
<p>Most android applications are written in <strong>Java</strong> or <strong>Kotlin</strong>, the java or kotlin code then gets converted into a <em>.class</em> file using the <strong>javac</strong> or <strong>kotlinc</strong> compiler.
This <em>.class</em> file is just normal Java bytecode, the additional compiler <strong>d8</strong> turns the <em>.class</em> file into a <strong>classes.dex</strong> file, this file contains <strong>dalvik</strong> byte code, a special type of code for android devices. This code then gets run by <strong>ART</strong> (Android Run Time) or on older devices the <strong>Dalvik VM</strong>.</p>
<p>Here is a step by step guide on how java/kotlin code gets ran on an android app:</p>
<ol>
<li>Java or Kotlin code gets compiled (by javac or kotlinc) and turned into a <em>.class</em> file</li>
<li>D8 turns the <em>.class</em> file into a classes.dex file</li>
<li>This classes.dex file (with dalvik code) gets ran by ART or Dalvik VM</li>
</ol>
<p><em>But wait, why on android am I running an apk instead of the classes.dex file?</em></p>
<p>This is because an android app needs a few more files/resources to work properly.
An APK is a combination of files being:</p>
<ul>
<li>classes.dex</li>
<li>AndroidManifest.xml</li>
<li>Resources</li>
<li>Signature</li>
</ul>
<p>This signature is very important, APK&rsquo;s are cryptographicaly signed so that only the real authors can change the code and build it, thats why if we change the code in an application when reverse engineering and not sign our new APK, we get an error that we can not run this file.</p>
<h3 id="apktool">apktool</h3>
<p>Now in the real world we could just rename the APK file to a .zip and extract it to get all of the items listed above but we are better than that, real reverse engineers use <code>apktool</code>.</p>
<p>This is a really handy tool for anything (you guessed it) APK</p>
<p>Here are a couple of basic commands:</p>
<ul>
<li><code>apktool d APK</code> -&gt; this will disassemble the APK</li>
<li><code>apktool b</code> -&gt; build the (changed) files
<ul>
<li>before changing anything to this app <strong>UNINSTALL THE APP</strong></li>
<li><code>keytool -genkey -v -keystore KEYSTORE -alias ALIAS -keyalg RSA -keysize 2048 -validity TIME</code> -&gt; generate a self signed key for this application so it can run</li>
<li><code>jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore KEYSTORE APK KEY</code> -&gt; sign the apk itself</li>
<li>Sometimes you get an error saying <code>Failed to extract native libraries</code>, you will have to change <code>extractNativeLibs=&quot;true&quot;</code> in your new  <code>Android.xml</code> file</li>
</ul>
</li>
</ul>
<p><em>WTF is <strong>smali</strong>?!</em></p>
<p>I guessed now u noticed that the dex files are gone, its smali now, for now just know that <strong>smali</strong> is an <strong>assembler for dalvik bytecode</strong>. If you wanted to know how it dissasembles the code, it uses <strong>baksmali</strong>.</p>
<h2 id="reverse-engineering">reverse engineering</h2>
<p>Now that we have succesfully decompiled the APK we can start reverse engineering this sucker.</p>
<p>Here is how I go about reverse engineering any of my APK&rsquo;s:</p>
<ol>
<li>
<p>Look at the <code>AndroidManifest.xml</code> file</p>
</li>
<li>
<p>Look at the exported activities:</p>
<p><img src="/images/AH1.png" alt="Activities"></p>
<p><strong>See where android:exported=&ldquo;true&rdquo;</strong> - <em>Exported activities can be started by other apps or (even) adb</em>
<em>The activity that gets started when we launch the app is the one with the intent filter, MAIN and LAUNCHER</em></p>
</li>
<li>
<p>Check for harcoded API keys/passwords/* with jadx (using global search, shared objects strings, etc.)</p>
</li>
</ol>
<p>NOT FINISHED</p>
  <time datetime="2025-06-15">2025-06-15&nbsp;</time>


  
    <div class="terminal-nav">
      <div class="back-nav">
        <a href="../" class="back-link">../</a>
      </div>
    </div>
  

  </main>
  <footer>
    <p>
    &copy; copyright 2025 &middot;
    <a href="https://en.wikipedia.org/wiki/Caffeine">caffeine</a>
</p>

  </footer>
</body>
</html>
